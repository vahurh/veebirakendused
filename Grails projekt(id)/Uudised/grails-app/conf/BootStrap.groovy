import uudised.Article
import uudised.User

class BootStrap {

    def init = { servletContext ->
		
		if (!Article.count()) {
			
			new User(login: "autor", password: "autor", firstName: "autor", lastName: "autor").save(failOnError:true)
			byte[] articleImage1 = (new File('C:/images/artikkel1.jpg')).bytes
			byte[] articleImage2 = (new File('C:/images/artikkel2.jpg')).bytes
			byte[] articleImage3 = (new File('C:/images/artikkel3.jpg')).bytes
			byte[] articleImage4 = (new File('C:/images/artikkel4.jpg')).bytes
			byte[] articleImage5 = (new File('C:/images/artikkel5.jpg')).bytes
			byte[] articleImage6 = (new File('C:/images/artikkel6.png')).bytes
			byte[] articleImage7 = (new File('C:/images/artikkel7.jpg')).bytes
			byte[] articleImage8 = (new File('C:/images/artikkel8.jpg')).bytes
			
			//välismaa uudised
			new Article(title: "Moskva kohus vahistas tagaselja Ukraina rahvusradikaalide juhi", intro: "Moskva Basmannõi kohus andis täna loa võtta vahi alla Ukraina rahvuslaste liikumise Paremsektori liider Dmõtro Jaroğ, keda süüdistatakse terrorismile õhutamises.",content: "Uurijate väitel pannakse talle süüks avalikku terrorismile ja ekstremismile õhutamist ning selleks massimeedia kasutamist, vahendas Interfax. /nParemsektori liider kuulutati rahvusvaheliselt tagaotsitavaks. Süüdistus esitati talle tagaselja. /nUkraina peaprokuratuuri pressiteenistus teatas aga, et mingit alust Ukraina kodaniku Jaroği kinnipidamiseks ja teisele riigile väljaandmiseks pole.",priority: "3",views: 20000, author: User.findByLogin("autor"), category: "Välismaa", photo: articleImage1).save(failOnError:true)
			Thread.currentThread().sleep(3*1000)
			new Article(title: "Lõuna-Korea luureteenistus sattus võltsimisskandaali", intro: "Lõuna-Korea riiklikku luureteenistust (NIS) on tabanud järjekordne skandaal, asutust süüdistatakse tõendite fabritseerimises eesmärgiga diskrediteerida endist Souli linnaametnikku.",content: "NIS-i süüdistatakse dokumentide võltsimises eesmärgiga ehitada üles spionaaşijuhtum Souli ametniku vastu, kes põgenes 2004. aastal Põhja-Koreast Lõuna-Koreasse. Väidetavalt võltsis luureteenistus ka Hiina piirivalve dokumente. /nPeking on kinnitanud, et dokumendid ei ole autentsed. NIS lükkas Hiina avalduse järel süüdistused tagasi, eitades osalust võltsimises. /nEelmisel nädalal võtsid juhtumit puudutavad arengud dramaatilise pöörde, kui võltsimisega seostatav luureteenistuse nuhk üritas teha enesetappu. Suitsiidikatse ebaõnnestus ning prokurörid võtsid mehe kolmapäeval vahi alla. /nPresident Park Geun-hye avaldas esmaspäeval skandaali üle sügavat kahetsust ja kutsus läbi viima põhjalikku juurdlust. /nMõni tund hiljem otsisid prokurörid läbi NIS-i peakorteri Souli lõunaosas. /nParki erakonna Saenuri seadusandjad nõuavad juunis peetavate kohalike valimiste eel NIS-i juhi Nam Jae-jooni tagasiastumist. /n«See teema on väga häiriv. Mind vapustasid väidetavad võltsimis- ja kinnimätsimiskatsed,» ütles Saenuri rahvaesindaja Shim Jae-chul. «Paistab vältimatu, et luureülem Nam võtab vastutuse,» sõnas ta. /nTegemist on tundliku juhtumiga presidendi jaoks, kes aasta eest Nami ametisse määras. /nMöödunud aastal vallandus riigis skandaal NIS-i sekkumise tõttu 2012. aasta presidendivalimiste kampaaniasse. Korduvalt nime vahetanud luureteenistust saadab kurikuulus maine, mille juured ulatuvad aastakümneid kestnud autoritaarsesse valitsemisperioodi enne üleminekut demokraatiale 1980. aastate teises pooles.",priority: "3",views: 20000, author: User.findByLogin("autor"), category: "Välismaa", photo: articleImage2).save(failOnError:true)
			Thread.currentThread().sleep(3*1000)
			new Article(title: "Allikas: Merkel peab Venemaa tegevust Krimmis annekteerimiseks", intro: "Saksa kantsler Angela Merkel nimetas täna oma konservatiividest seadusandjatega kohtudes Venemaa tegevust Ukraina Krimmi autonoomses vabariigis annekteerimiseks, teatas erakonna allikas.",content: "Allika sõnul ütles Merkel, et Venemaa on Krimmi poolsaare «varastanud», ning lisas, et toimunut saab nimetada annekteerimiseks. Merkel rõhutas vajadust kolmesuunaliseks tegevuseks - aidata Ukrainat, hoida dialoogi Moskvaga, kuid samas astuda ka karmimaid samme Venemaa suhtes, muu hulgas sanktsioonide kaudu. Endisel Ida-Saksamaal üles kasvanud Merkel on korduvalt suhelnud telefoni teel Venemaa presidendi Vladimir Putiniga seoses Ukraina kriisiga.",priority: "2",views: 20000, author: User.findByLogin("autor"), category: "Välismaa", photo: articleImage3).save(failOnError:true)
			Thread.currentThread().sleep(3*1000)
			new Article(title: "«Koomapoisi» surm tõi Türki uued suurmeeleavaldused", intro: "Pärast 269 koomas lebatud päeva lõpuks hinge heitnud 15-aastase Berkin Elvani matustele kogunesid kümned tuhanded istanbullased.",content: "«Koomapoisina» tuntuks saanud Elvan sai raskelt viga mullu juunis valitsusvastasel meeleavaldusel Istanbulis. Ta ei olnud protestil osaleja, vaid sai vägivaldselt meeleavaldusi maha surnud politseinike käe läbi viga ajal, kui ta oli suundunud ema käsul poodi leiba ostma. Ta suri eile haiglas ning kohe pärast nooruki surmateadet hakkasid inimesed tänavatele tulema, mitte ainult Istanbulis, vaid ka teistes Türgi linnades. Ööl vastu tänast pidasid korrakaitsjad üle Türgi kinni sadu meeleavaldajaid, nende seas 97 Istanbulis, 51 Ankaras, umbes 100 Izmir, 36 Bursas ja 21 Mersinis.",priority: "2",views: 20000, author: User.findByLogin("autor"), category: "Välismaa", photo: articleImage8).save(failOnError:true)
			
			//eesti uudised
			new Article(title: "Vanalinna talvine parkimiskord muutub paindlikumaks", intro: "Linnavalitsuse  korraldusega antakse transpordiameti juhile õigus muuta parkimiskorda Tallinna vanalinnas vastavalt ilmastikutingimustele.",content: "Suvise ja talvise parkimiskorra eesmärgiks on tagada tänavapuhastajatele võimalus vanalinna tänavate puhastamiseks. Vanalinn on jagatud kaheks piirkonnaks ja suvise parkimiskorra ajal on ühes piirkonnas parkimine keelatud kahel ööl nädalas, et tänavapuhastajad saaksid oma tööd teha. Talvise parkimiskorra ajal on parkimine keelatud ühes piirkonnas paaritutel ja teises piirkonnas paariskuupäevadel. Talvine parkimiskord on karmim eeldatava lumekoristuse vajaduse tõttu. Praeguse muudatuse eesmärk on muuta parkimiskord paindlikuks ja tegelikele ilmastikuoludele vastavaks. Seni kehtinud korra järgi peavad sõidukiomanikud ka praegu järgima talvist parkimiskorda, kuigi lumi on ammu läinud ja väljas laulavad linnud. Vana korra kohaselt võis transpordiamet kehtivad parkimiskorda muuta vaid ühekordselt, kehtivusega vaid üks kuu. Uue korra kohaselt saab transpordiameti juhataja muuta vanalinna parkimiskorda kiiresti, vastavalt tegelikele ilmaoludele. Parkimiskorralduse muudatustest teavitatakse avalikkust ajalehes, milles Tallinna linn avaldab ametlikke teadaandeid ning Tallinna linna veebilehel, samuti tähistatakse muudetud parkimiskorraldus vastavate liikluskorraldusvahenditega.",priority: "3",views: 20000, author: User.findByLogin("autor"), category: "Eesti", photo: articleImage4).save(failOnError:true)
			Thread.currentThread().sleep(3*1000)
			new Article(title: "Mitu koolimaja läheb kevadel remonti", intro: "Kuigi tavaline kooliremontide haripunkt on pärast jaanipäeva, mil koolipere on suvevaheajal, algab kolmes Tartu koolis remont juba aprillis ja mais.",content: "Ehitajad on äsja lõppenud riigihankega leitud Karlova gümnaasiumi, Kivilinna gümnaasiumi ja Descartes’i lütseumi ruume remontima. Kõik need on tulevased põhikoolihooned ja nagu abilinnapea Tiia Teppan rääkis, keskendub linn lähiaastail eeskätt põhikoolide õpikeskkonna parandamisele, sest gümnaasiumid on enamasti korralikud. «Sellel aastal oleme rege rautanud õigel ajal, hange kuulutati välja varakult ja alustatakse kohe,» ütles ta. Abilinnapea möönis, et võib-olla segab peatselt algav remont mõningal määral koolitööd, aga töömaht on suur ja septembriks peab plaanitu tehtud olema. /nParem ajastus /n«Et ühiskondlike hoonete ehitus käib valdavalt suvel ja kulmineerub suhteliselt lühikesel perioodil pärast jaanipäeva, loob see olukorra, kus ehitushinnad suvel oluliselt tõusevad,» põhjendas varasemat algus Tartu linnavarade osakonna juhataja Kunnar Jürgenson. «Hooajaline hinnatõus on kuni 30 protsenti, lisaks on ka ehitajaid suhteliselt vähe, pakkumisi tuleb kaks-kolm, kui hangetega suve algusesse jääda. Selle tõttu on eesmärk, et hanked oleksid võimalikult vara tehtud,» rääkis ta. Praegu oli hangetel pakkujaid kuus kuni kaheksa ja hind jäi linna eeldatud piiridesse. Sõltuvalt koolimajast algab remont märtsis, aprillis või mais. Jürgenson ütles, et paratamatult ei ole pärast jaanipäeva alustades paari kuuga ehk augusti lõpuks võimalik suuremahulisi töid ära teha. Descartes’i lütseumi hoone remondi hanke võitja on JB Ehituse OÜ hinnaga 411 782 eurot. Kavas on remontida  kooli A-korpuse nullkorrus, kus hakkavad paiknema nii Descartes’i lütseumi kui ka kommertsgümnaasiumi poiste tööõpetuse klassid ja rõivistud, universaalne töötuba, koristus- ja laoruumid, väike spordisaal koos riietus- ja pesuruumiga ning õpetajate ruumid. Töö kestab kuus kuud ja orienteeriv lõpetamise tähtaeg on septembri algus. Kivilinna gümnaasiumi põhikooli majas remonditakse keldrikorrusel asuvad tööõpetuse klassid ning neljandal korrusel võõrkeelte, loodusainete, füüsika- ja keemiaklassid ning tualettruumid. Remondihanke võitis AS Semuehitus hinnaga 336 441 eurot. Karlova gümnaasiumis remonditakse kehalise kasvatuse riietus- ja pesuruumid, õpetajate ruumid ning käsitööklass, keldrikorrusele ehitatakse tualetid. Remontima hakkab OÜ PVH Ehitus, kes pakkus hinnaks 154 852 eurot. Peale selle kuulutas linnavalitsus eile Kellukese lasteaia köögi remondi riigihanke võitjaks Eviko hinnaga 94 032 eurot. /nSuur töö ees /nJürgenson ütles, et koolimajade tervikremondi tegemise tempo sõltub sellest, kui palju saab Tartu haridusministeeriumilt rahalist toetust – ministeerium on seda lubanud, sest Tartu on teinud koolireformi. Aprilli alguses peaks selguma Nooruse 9 koolimaja remondi hanke pakkumused, sellesse majja saavad uued ruumid Tamme gümnaasium ja täiskasvanute gümnaasium. Ehitus algab plaanide kohaselt juunis ja kestab järgmise aasta juulini. Veel on tänavu kavas Härma gümnaasiumi katuse parandus, Raatuse, Reiniku ja Forseliuse koolimaja ümber vajab remonti sademeveedrenaaş ja kunstigümnaasiumis on plaanis valgustuse remont. Veeriku koolis on lõpetada katuse remont, mis algas läinud sügisel.",priority: "1",views: 20000, author: User.findByLogin("autor"), category: "Eesti", photo: articleImage5).save(failOnError:true)
			Thread.currentThread().sleep(3*1000)
			new Article(title: "Tallinn valmistub uute trammide tulekuks", intro: "Vähem kui kuu aja pärast algab moodsa veeremi vajadusi arvestava uue trammitee rajamine.",content: "«Trammiliini uuendamise tervikprojekt on kavas läbi viia 2015. aasta lõpuks. Trammiliinidel nr 3 ja 4 hakkavad sõitma 20 uut Hispaania tootja CAF moodsat trammi,» ütles Aas. Tallinna transpordiameti teatel algab trammitee rekonstrueerimine 7. aprillil, esmalt võetakse käsile Vabaduse väljaku ja Pärnu maantee viadukti vaheline lõik. Aas lisas, et esimene moodne tramm jõuab Tallinna juba tänavu novembris. «Trammiliini rekonstrueerimine ja moderniseerimine on üheks Tallinna ühistranspordi prioriteetseks arengueesmärgiks,» ütles Aas. Projekti eesmärgiks on Tallinna ühistranspordi kasutajaskonna suurendamine ning teeninduskvaliteedi parandamine. «Trammiliin nr 4 ühendab linna olulisi sõlmpunkte ning piirkondi, ühtlasi kulgeb liin pikalt läbi kesklinna, mis aitab kindlasti kaasa linnapildi atraktiivsemaks muutmisele ja reisijate mugavale liiklemisele,» ütles Aas. Suuremahuliste rekonstrueerimistööde käigus uuendatakse lisaks uue trammitee rajamisele teealused kommunikatsioonid, trassile jäävad sõidu- ja kõnniteed ning haljastus. Trammitee rajatakse kogu ulatuses betoonalusele, vahetatakse välja kontaktliinid, ehitatakse ümber Pärnu maantee depoo ja uuendatakse veoalajaamad. Taristu projekteerimise ja rekonstrueerimise riigihanke võitis konsortsium AS Merko Ehitus Eesti, KMG Inseneriehituse AS ja Ratatek Oy. Tööde maksumus on 26 miljonit eurot, millest 85 protsenti rahastatakse KIKi vahendusel ELi ühtekuuluvusfondist ning ülejäänu on Tallinna omafinantseering. Seoses trammitee rekonstrueerimisega katkeb 3. ja 4. liini trammide liiklus, trammikasutajate teenindamiseks pannakse Hobujaama ja Kalevi peatuse vahel käima ajutine bussiliin nr 52.",priority: "2",views: 20000, author: User.findByLogin("autor"), category: "Eesti", photo: articleImage6).save(failOnError:true)
			Thread.currentThread().sleep(3*1000)
			new Article(title: "Päikest jagub, ent muutus tulemas", intro: "Poola kohalt kagusse liikuva kõrgrõhuala ja Norra mere põhjaossa saabuva uue tsükloni vahel on meil homme eriti kena kevadine ilm.",content: "Tuul on sisemaal vaikne või mõõdukas, rannikul veidi tugevam. Päikest jagub küllaga ja seda tasub nautida, sest ilmamuutus talve ajutiseks taastumiseks on lähenemas. Homme on selge või vähese pilvisusega sajuta ilm. Puhub läänekaare tuul 3-8 m/s, õhtupoolikul rannikualadel puhanguti kuni 12 m/s. Õhusooja on 6-11 kraadi, tuulele avatud rannikul 3-5 kraadi.",priority: "2",views: 20000, author: User.findByLogin("autor"), category: "Eesti", photo: articleImage7).save(failOnError:true)
					
		}
		
    }
    def destroy = {
    }
}
